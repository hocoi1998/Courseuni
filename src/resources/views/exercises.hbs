<div class="container mt-4">
Câu hỏi: {{ exercise.question }}
    {{#each exercise.answer}}
    <div class="form-check">
        <input id="answer{{@index}}" class="form-check-input answer" type="checkbox" name="answer" value="{{this}}">
        <label class="form-check-label" for="answer{{@index}}">
            {{ this }}
        </label>
    </div>
    {{/each}}
    <button id="submit" class="btn btn-primary">OK</button>
</div>

{{!-- hidden correct answer --}}
<div class="hidden">
    {{#each exercise.correct}}
        <input type="text" class="correct" value="{{this}}">
    {{/each}}
</div>


<script>
    let answer = document.querySelectorAll('.answer');
    let isRadio = {{ isRadio }};
    if (isRadio) {
        for (let i = 0; i < answer.length; i++) {
            answer[i].setAttribute('type', 'radio');
        }
    }
    document.querySelector('#submit').onclick = function () {
        let uAnswer = [];
        for (let i = 0; i < answer.length; i++) {
            if (answer[i].checked) {
                uAnswer.push(answer[i].value);
            }
        }
        
        function equar(a, b) {
            if (a.length !== b.length) {
                return false
            } else {
                for (let i = 0; i < a.length; i++) {
                    if (a[i] !== b[i]) {
                        return false
                    }
                }
                return true;
            }
        }

        let correct = document.querySelectorAll('.correct');
        let correctArr = [];
        for (let i = 0; i < correct.length; i++) {
            correctArr.push(correct[i].value);
        }

        let match = equar(uAnswer, correctArr);
        if(match) {
            alert('đúng rồi!');
            // đúng thì push vào passing trong user
        } else {
            alert('sai rồi bạn ơi');
        }
        

    }
</script>